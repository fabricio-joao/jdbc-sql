package cursojdbc.conexaoBancoDados.app;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.text.ParseException;

import cursojdbc.conexaoBancoDados.ConexaoBancoDados;

public class Programa {

	public static void main(String[] args) throws ParseException {
		
		Connection conexao = null;
		Statement st = null;
		ResultSet rs = null;
		//PreparedStatement ps = null;
		
		try {
			conexao = ConexaoBancoDados.retornaConexao();
			st = conexao.createStatement();
			
			/*ps.setInt(1, 4);
			ps.setString(2, "Livros");
			
			int linhasAlteradas = ps.executeUpdate();
			System.out.println("Pronto! Total de linhas alteradas: " + linhasAlteradas);*/	
			
			rs = st.executeQuery("select * from Departamentos");
			
			while(rs.next()) {
				System.out.println(rs.getInt("Id") + rs.getString("Setor"));
			}
		}
		
		catch(SQLException e) {
			e.printStackTrace();
		}
        
		finally {
        	ConexaoBancoDados.fecharConexaoStatement(st);
        	ConexaoBancoDados.fecharConexaoResultSet(rs);
        	ConexaoBancoDados.fecharConexao();
        }
	}
}
